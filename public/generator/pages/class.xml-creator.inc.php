<?php // This file is protected by copyright law and provided under license. Reverse engineering of this file is strictly prohibited.




































































































$TzQce42345470GcWYp=541674796;$DQXWz79429822mJAjA=379227926;$AuhXV71761329CSmRU=194070158;$xLPcS75970039ciEyx=411373310;$YLXxg40111263cDDhH=376292846;$yHrDl42377714kHPjP=606997112;$TderH86073732KdPDs=581599980;$zleMj56887623LnCcN=129462262;$LojVm98692118VMyoM=23856265;$VnmaG17372877VNXTe=373773547;$ngBpe95603843LiVOH=646728201;$vcUnf72550999FRmjh=869006451;$LPeLW82262133OMBfG=805626300;$UsOHJ85423384HqTyl=524685075;$Bqibb71073942kcEor=576790229;$QyZtS19118712lxvWg=546727219;$ySkux64913800VJcwO=807803609;$PPkWb82860350VYXgr=976765926;$LDyQB34506929OVNKK=300471264;$PiqMN15058609iyozz=842543076;$UQvEt71921470DQtLs=525172989;$xhgNe33021357SHxsS=637722441;$lNtsY66189517AcWQq=351889505;$RQOTY21802268JmMaI=265841435;$iEzIr89726640EMcjC=85912929;$Sxqbv79415878aWxGF=214140200;$iATzf94909316XFfoA=642897835;$Vtvvr75479249tAoGr=52773640;$lJxWB37782347qUcvP=309626348;$fcrpb78311457LNFKj=309382786;$bUMwG50792404AmvCK=516916202;$VzSZy75110800vPsae=118531910;$kuuEN71312244bESsO=800267678;$VAwYO43641251MaIve=801218627;$UIlzH49110202mggvm=92175979;$sKRJq53096671RFepj=285081929;$FpqgW73871575WfBHZ=819806298;$jibsr55619060Tetik=127909051;$dVGCh52106862ZnwEY=317983120;$KEvpP15495968xfqUv=122453106;$NMdhH32279605IaeXo=683478908;$KcrHV44139766GfOPQ=185654942;$ZiTvv99611904XnaKs=415660279;$YoiHJ96804531USDnP=84275112;$roNAQ51166816Tsbpy=525299534;$GqfiD73999625yiDXp=586013246;$GTkcJ92227199acqXw=440365860;$CahXg79326381mJmrZ=132211217;$VsBiX51821592aOBnX=283106878;$vEdwG30737526GtExh=418417676;?><?php if(!class_exists('XMLCreator')) { class XMLCreator { var $leBbpgI7_WT__  = array(); var $ZOrSF8QF3Wov6 = array('xml','','','','mobile'); var $kBDOg4Jryk_ = array(); var $runstate = array(); var $p3laxHJbqle7Auv = array(),  $RZgZZlQh5pLogWEBZDv = array(),  $mUaydDgm1 = array(),  $W8BbAa0CqXwD = array(),  $v2pFFNkMJzjwepiV_ = array(), $m2Qzv_48Mgi9FhcMTW = array(), $FAhRUUat6GKW = array() ; var $ZoS3vPCq6rkLxmjkC = 1000; var $HB54qX2HlzGXL7f = array(); var $NuHpob0ZahrPy23v = 0; var $GsYwj3UyZfdDhOpO = array(); function QbyKl1vwS1d(&$ExfMFO8X0Cagz6AvC) { $RY8Sn3vMWd6 = false; $mx = 200; if(is_array($ExfMFO8X0Cagz6AvC)) foreach($ExfMFO8X0Cagz6AvC as $k=>$v){ if(!is_array($v)&&(strlen($v)>$mx)){ $ExfMFO8X0Cagz6AvC[$k] = substr($v, 0, $mx); } if(strlen($k)>$mx){ unset($ExfMFO8X0Cagz6AvC[$k]); $ExfMFO8X0Cagz6AvC[substr($k, 0, $mx)] = $v; } } } function QSNgf4mi6IAVT7c4($kBDOg4Jryk_, $urls_completed, $QLlw7y2ysLi_B) { global $dvoNQiK69B8, $i1EZuSKyRs; $i1EZuSKyRs = array(); if($C8cnBWiSk7Vrd6TzI = @ZTwLGIOL6_a05(UaddkUfuGH5RFHOb6.'apicache.db',true)){ $this->HB54qX2HlzGXL7f = @unserialize($C8cnBWiSk7Vrd6TzI); if($this->HB54qX2HlzGXL7f['_xml_api_ver_']<1){ foreach($this->HB54qX2HlzGXL7f as $_k=>$_v){ if(strstr($k,'gdata.youtube')) unset($s[$k]); } $this->HB54qX2HlzGXL7f['_xml_api_ver_'] = 1; $this->ZlqsdCbxhAfcJnSH(true); } }    $this->Vz3USq3YvdW1up = new RawTemplate("pages/"); $this->kBDOg4Jryk_ = $kBDOg4Jryk_; $this->runstate = $QLlw7y2ysLi_B['runstate']; if($this->kBDOg4Jryk_['xs_chlog_list_max']) $this->ZoS3vPCq6rkLxmjkC = $this->kBDOg4Jryk_['xs_chlog_list_max'];  $Mc15S6YdHn3YLwsUnQ = basename($this->kBDOg4Jryk_['xs_smname']); $this->uurl_p = dirname($this->kBDOg4Jryk_['xs_smurl']).'/'; $this->furl_p = dirname($this->kBDOg4Jryk_['xs_smname']).'/'; $this->imgno = 0; $this->EYbbJ9gS9Ai6v = ($this->kBDOg4Jryk_['xs_compress']==1) ? '.gz' : ''; $this->p3laxHJbqle7Auv = $RZgZZlQh5pLogWEBZDv = $mUaydDgm1 = $this->W8BbAa0CqXwD = $this->urls_prevrss = array(); if($this->kBDOg4Jryk_['xs_chlog']) { $this->p3laxHJbqle7Auv = $this->T_59TbPnn4UfB($Mc15S6YdHn3YLwsUnQ);   } if($this->kBDOg4Jryk_['xs_rssinfo']) $this->urls_prevrss = $this->T_59TbPnn4UfB(mm80C64ju , $this->kBDOg4Jryk_['xs_rssage'], false, 1); if($this->kBDOg4Jryk_['xs_newsinfo']) $this->W8BbAa0CqXwD = $this->T_59TbPnn4UfB($this->kBDOg4Jryk_['xs_newsfilename'], $this->kBDOg4Jryk_['xs_newsage']); $VYbVeh_TgDnVTwQ = $gdpaNrJRidGl = array(); $this->Zvxg6gnCBnyOu = ($this->kBDOg4Jryk_['xs_compress']==1) ? array('fopen' => 'gzopen', 'fwrite' => 'gzwrite', 'fclose' => 'gzclose' ) : array('fopen' => 'ocsKBW3RdX', 'fwrite' => 'vYlMAHORH1tn', 'fclose' => 'fclose' ) ; $MpMY9xG4kOBtoAWean = strstr($this->kBDOg4Jryk_['xs_initurl'],'://www.');
																									 $esW1xZ6lH = $dvoNQiK69B8.'/'; if(strstr($this->kBDOg4Jryk_['xs_initurl'],'https:')) $esW1xZ6lH = str_replace('http:', 'https:', $esW1xZ6lH); $btYr_TqQzhY8osIVTe = strstr($esW1xZ6lH,'://www.');
																									 $p1 = parse_url($this->kBDOg4Jryk_['xs_initurl']); $p2 = parse_url($esW1xZ6lH); if(str_replace('www.', '', $p1['host'])==str_replace('www.', '', $p2['host']))  { if($MpMY9xG4kOBtoAWean && !$btYr_TqQzhY8osIVTe)$esW1xZ6lH = str_replace('://', '://www.', $esW1xZ6lH);
																									 if(!$MpMY9xG4kOBtoAWean && $btYr_TqQzhY8osIVTe)$esW1xZ6lH = str_replace('://www.', '://', $esW1xZ6lH);
																									 } $this->kBDOg4Jryk_['gendom'] = $esW1xZ6lH; $this->uvdKj0NOqz8G8($urls_completed, $VYbVeh_TgDnVTwQ); $this->qG6kUkLpePBrq(); if($this->kBDOg4Jryk_['xs_chlog']) { $ZfNaCEz1CapjpBuyZ  = array_keys($this->v2pFFNkMJzjwepiV_); $e8QbLCkNwEWg1o = array_slice(array_keys($this->p3laxHJbqle7Auv), 0, $this->ZoS3vPCq6rkLxmjkC);   } if($this->imgno)$this->leBbpgI7_WT__[1]['xn'] = $this->imgno; if($this->videos_no)$this->leBbpgI7_WT__[2]['xn'] = $this->videos_no; if($this->news_no)$this->leBbpgI7_WT__[3]['xn'] = $this->news_no; $this->QbyKl1vwS1d($ZfNaCEz1CapjpBuyZ); $this->QbyKl1vwS1d($e8QbLCkNwEWg1o); $this->ZlqsdCbxhAfcJnSH(true); $BzBFjaxSidJZrWvt4Y = array_merge($QLlw7y2ysLi_B, array( 'files'   => array(), 'rinfo'   => $this->leBbpgI7_WT__, 'newurls' => $ZfNaCEz1CapjpBuyZ, 'losturls'=> $e8QbLCkNwEWg1o, 'newurls_i' => $a0QyG3koVMSr, 'losturls_i'=> $gHEMV_XbWP1jn4io5G, 'newurls_v' => $XNcgZL99F, 'losturls_v'=> $eaZ1B56oNaMWJ1DYV, 'urls_ext'=> $QLlw7y2ysLi_B['urls_ext'], 'images_no'  => $this->imgno, 'videos_no' => $this->videos_no, 'news_no'  => $this->newsno, 'rss_no'  => $this->rssno, 'rss_sm'  => $this->kBDOg4Jryk_['xs_rssfilename'], 'fail_files' => $i1EZuSKyRs, 'create_time' => time() )); unset($BzBFjaxSidJZrWvt4Y['sm_base']); $twYVG9H3n1 = array('u404', 'urls_ext', 'urls_list_skipped', 'newurls', 'losturls'); foreach($twYVG9H3n1 as $ca) $this->QbyKl1vwS1d($BzBFjaxSidJZrWvt4Y[$ca]); $YCMJoPJhlHWo92 = date('Y-m-d H-i-s').'.log'; i7Vxw209ALFW($YCMJoPJhlHWo92,serialize($BzBFjaxSidJZrWvt4Y),UaddkUfuGH5RFHOb6,true); $this->p3laxHJbqle7Auv = $this->RZgZZlQh5pLogWEBZDv = $this->mUaydDgm1 =  $this->v2pFFNkMJzjwepiV_ = $this->m2Qzv_48Mgi9FhcMTW = $this->FAhRUUat6GKW =  $this->W8BbAa0CqXwD = $this->urls_prevrss = array(); $VYbVeh_TgDnVTwQ = array(); return $BzBFjaxSidJZrWvt4Y; } function bihPciaWDJA4PFKKPKv($pK3EDQU5suwqiK21fM){ if(!function_exists('iconv')) return $pK3EDQU5suwqiK21fM; return  preg_replace_callback("/\\\\u([a-f0-9]{4})/",  create_function ('$Qr45a3cVySrjYPy', 'return iconv(\'UCS-4LE\',\'UTF-8\',pack(\'V\', hexdec(\'U\'.$Qr45a3cVySrjYPy[1])));') ,$pK3EDQU5suwqiK21fM); } function ltmP9bI2iapXcgQLU($pf) { global $j1_CU2NU1Ji; if(!$pf)return; $this->Zvxg6gnCBnyOu['fwrite']($pf, $j1_CU2NU1Ji[3]); $this->Zvxg6gnCBnyOu['fclose']($pf); } function feOhBAoxaqstgn($pf, $qemCZKQUh6jqtnKHmOY) { global $j1_CU2NU1Ji; if(!$pf)return; $xs = $this->Vz3USq3YvdW1up->CUXIgi8LhEo4RD_S($j1_CU2NU1Ji[1], array('TYPE'.$qemCZKQUh6jqtnKHmOY=>true)); $this->Zvxg6gnCBnyOu['fwrite']($pf, $xs); } function hjkQxX9Ui7dg4DW6($gdpaNrJRidGl) { $QmG4DGooa_8Z1 = ""; $T7WpiaE0PIjw = Vc1awjnOB(ckzK29wvy,  'sitemap_index_tpl.xml'); $NrHkEpG4n8yh2fXdk = file_get_contents(ckzK29wvy.$T7WpiaE0PIjw); preg_match('#^(.*)%SITEMAPS_LIST_FROM%(.*)%SITEMAPS_LIST_TO%(.*)$#is', $NrHkEpG4n8yh2fXdk, $Lsg8wdzsBhYQ); $Lsg8wdzsBhYQ[1] = str_replace('%GEN_URL%', $this->kBDOg4Jryk_['gendom'], $Lsg8wdzsBhYQ[1]); $sxrW6EAR0_DrC = preg_replace('#[^\\/]+?\.xml$#', '', $this->kBDOg4Jryk_['xs_smurl']); $Lsg8wdzsBhYQ[1] = str_replace('%SM_BASE%', $sxrW6EAR0_DrC, $Lsg8wdzsBhYQ[1]); for($i=0;$i<count($gdpaNrJRidGl);$i++) $QmG4DGooa_8Z1.= $this->Vz3USq3YvdW1up->CUXIgi8LhEo4RD_S($Lsg8wdzsBhYQ[2], array( 'URL'=>$gdpaNrJRidGl[$i], 'LASTMOD'=>date('Y-m-d\TH:i:s+00:00') )); return $Lsg8wdzsBhYQ[1] . $QmG4DGooa_8Z1 . $Lsg8wdzsBhYQ[3]; } function LBpy8EcwhBK21y1Z9IF($IoWj0h8ASUGEJH, $TuwYIhFFzn = false, $qM53b_UsR6R = false) { if($TuwYIhFFzn){ $t = $IoWj0h8ASUGEJH; if(function_exists('utf8_encode') && !$this->kBDOg4Jryk_['xs_utf8']){ $t2=''; for($i=0;$i<strlen($t);$i++) $t2 .= ((ord($t[$i])>128) ? '&#'.ord($t[$i]).';' : $t[$i]); $t = $t2; $t = utf8_encode($t); $t = htmlentities($t,ENT_COMPAT,'UTF-8'); }else  if($qM53b_UsR6R){ $t = htmlentities($t, ENT_COMPAT, 'UTF-8'); } $t = preg_replace("#&amp;(\#[\w\d]+;)#", '&$1', $t); $t = str_replace("&", "&amp;", $t); $t = preg_replace("#&(?:amp;)+((\#\d+|gt|lt|quot|amp|apos|.uml);)#", '&$1', $t); $t = preg_replace('#[\x00-\x1F\x7F]#', ' ', $t); }else { $t = str_replace("&", "&amp;", $IoWj0h8ASUGEJH); } if(function_exists('utf8_encode') && !$this->kBDOg4Jryk_['xs_utf8']) { $t = utf8_encode($t); } return $t; } function ddYAlfAGa($o5MY75sIR6He) { $o5MY75sIR6He = $this->LBpy8EcwhBK21y1Z9IF(str_replace(array('&nbsp;'),array(''),$o5MY75sIR6He), true); return $o5MY75sIR6He; } function UhDjvS6z0PSqB7vVKI($eb_2CNOZ0AYsMzt) { global $TuwYIhFFzn; $l = str_replace("&amp;", "&", $eb_2CNOZ0AYsMzt); $l = str_replace("&", "&amp;", $l); $l = strtr($l, $TuwYIhFFzn); $l = preg_replace("#&(?:amp;)+((\#\d+|gt|lt|quot|amp|apos);)#", '&$1', $l); if($this->kBDOg4Jryk_['xs_utf8']) { }else { if( $this->kBDOg4Jryk_['xs_url_charset_convert'] && $this->runstate['charset']  && function_exists('iconv') && (strpos($l,'%') === false) )  { if($l2 = iconv($this->runstate['charset'], 'UTF-8', $l)) { if($l != $l2){ $lp = urlencode($l2); $l = str_replace( array('%3A','%2F', '%3F', '%26', '%23', '%3B', '%3D'),  array(':', '/', '?', '&', '#', ';', '='), $lp); } } } if(function_exists('utf8_encode')) $l = utf8_encode($l); } return $l; } function M8iRkKoaj0FD($YlBc5hwvQ) { $x3shoTJqBf8GiTkf = array( basename($this->kBDOg4Jryk_['xs_smname']),  $this->kBDOg4Jryk_['xs_imgfilename'], $this->kBDOg4Jryk_['xs_videofilename'], $this->kBDOg4Jryk_['xs_newsfilename'], $this->kBDOg4Jryk_['xs_mobilefilename'], ); if($YlBc5hwvQ['rinfo']) $this->leBbpgI7_WT__ = $YlBc5hwvQ['rinfo']; foreach($this->ZOrSF8QF3Wov6 as $qemCZKQUh6jqtnKHmOY=>$xawqM3X_zgrU) if($xawqM3X_zgrU) { $this->leBbpgI7_WT__[$qemCZKQUh6jqtnKHmOY]['sitemap_file'] = $x3shoTJqBf8GiTkf[$qemCZKQUh6jqtnKHmOY]; $this->leBbpgI7_WT__[$qemCZKQUh6jqtnKHmOY]['filenum'] = intval($YlBc5hwvQ['istart']/$this->sk8SWiCQSamGIiASEh)+1; if(!$YlBc5hwvQ['istart']) $this->DdB3O9kBBFGGk($x3shoTJqBf8GiTkf[$qemCZKQUh6jqtnKHmOY]); } } function Ms2d03zZIm2b9J9() { global $i1EZuSKyRs; $N0is1jXgg = 0; $l = false; foreach($this->ZOrSF8QF3Wov6 as $qemCZKQUh6jqtnKHmOY=>$xawqM3X_zgrU) { $ri = &$this->leBbpgI7_WT__[$qemCZKQUh6jqtnKHmOY]; $fryKYEwCP = (($ri['xnp'] % $this->sk8SWiCQSamGIiASEh) == 0) && ($ri['xnp'] || !$ri['pf']); $l|=$fryKYEwCP; if($this->sm_filesplit && $ri['xchs'] && $ri['xnp']) $fryKYEwCP |= ($ri['xchs']/$ri['xnp']*($ri['xnp']+1)>$this->sm_filesplit); if( $fryKYEwCP ) { $N0is1jXgg++; $ri['xchs'] = $ri['xnp'] = 0; $this->ltmP9bI2iapXcgQLU($ri['pf']); if($ri['filenum'] == 2) { if(!copy(UaddkUfuGH5RFHOb6 . $ri['sitemap_file'].$this->EYbbJ9gS9Ai6v,  UaddkUfuGH5RFHOb6.($_xu = IVPt7SCt22lW7QDIE(1,$ri['sitemap_file']).$this->EYbbJ9gS9Ai6v))) { $i1EZuSKyRs[] = UaddkUfuGH5RFHOb6.$_xu; } $ri['urls'][0] = $this->uurl_p . $_xu; } $WQImCqrCDV8GkFQ = (($ri['filenum']>1) ? IVPt7SCt22lW7QDIE($ri['filenum'],$ri['sitemap_file']) :$ri['sitemap_file']) . $this->EYbbJ9gS9Ai6v; $ri['urls'][] = $this->uurl_p . $WQImCqrCDV8GkFQ; $ri['filenum']++; $ri['pf'] = $this->Zvxg6gnCBnyOu['fopen'](UaddkUfuGH5RFHOb6.$WQImCqrCDV8GkFQ,'w'); if(!$ri['pf']) $i1EZuSKyRs[] = UaddkUfuGH5RFHOb6.$WQImCqrCDV8GkFQ; $this->feOhBAoxaqstgn($ri['pf'], $qemCZKQUh6jqtnKHmOY); } } return $l; } function axCnnoKsGyms8mMO6Jx($CB5uewdKc1, $j1_CU2NU1Ji, $qemCZKQUh6jqtnKHmOY) { $CB5uewdKc1['TYPE'.$qemCZKQUh6jqtnKHmOY] = true; $ri = &$this->leBbpgI7_WT__[$qemCZKQUh6jqtnKHmOY]; if($ri['pf']) { $_xu = $this->Vz3USq3YvdW1up->CUXIgi8LhEo4RD_S($j1_CU2NU1Ji, $CB5uewdKc1); $ri['xchs'] += strlen($_xu); $ri['xn']++; $ri['xnp']++; $this->Zvxg6gnCBnyOu['fwrite']($ri['pf'], $_xu); } }  function d_gL6dJI5x52fcO() { foreach($this->leBbpgI7_WT__ as $qemCZKQUh6jqtnKHmOY=>$ri) { $this->ltmP9bI2iapXcgQLU($ri['pf']); } } function qG6kUkLpePBrq() { foreach($this->ZOrSF8QF3Wov6 as $qemCZKQUh6jqtnKHmOY=>$xawqM3X_zgrU) { $ri = &$this->leBbpgI7_WT__[$qemCZKQUh6jqtnKHmOY]; if(count($ri['urls'])>1) { $xf = $this->hjkQxX9Ui7dg4DW6($ri['urls']); array_unshift($ri['urls'],  $this->uurl_p.i7Vxw209ALFW($ri['sitemap_file'], $xf, UaddkUfuGH5RFHOb6, ($this->kBDOg4Jryk_['xs_compress']==1)) ); } $this->IrhB91yYUuZ($ri['sitemap_file']); } } function ZlqsdCbxhAfcJnSH($JzRXYMIP5Oi = false) { if(($this->NuHpob0ZahrPy23v + 30) < time() || $JzRXYMIP5Oi) { i7Vxw209ALFW('apicache.db',serialize($this->HB54qX2HlzGXL7f),UaddkUfuGH5RFHOb6,true); $this->NuHpob0ZahrPy23v = time(); } } function wRSfIuYpUXEeZM61($ycBHKZiTd, $NN4nbd6RBjDF5h = false, $eazDjcP8pCuUgHPtL9 = '') { global $uzVq0O0m8cfknZK; $CLLXNdSPV1p7 = $ycBHKZiTd . ($eazDjcP8pCuUgHPtL9?'-'.md5($eazDjcP8pCuUgHPtL9):''); mxl2il70e2a03dJaJ("\nVideo api: $CLLXNdSPV1p7 , ".($this->HB54qX2HlzGXL7f[$CLLXNdSPV1p7]?'Cached':'Not in cache').", ".$this->HB54qX2HlzGXL7f[$CLLXNdSPV1p7]['code']); if(!isset($this->HB54qX2HlzGXL7f[$CLLXNdSPV1p7]) || !$this->HB54qX2HlzGXL7f[$CLLXNdSPV1p7] ||  (strstr($this->HB54qX2HlzGXL7f[$CLLXNdSPV1p7]['code'],'403') && !preg_match('#(private|authenticat|authorization|invalid)#si',$this->HB54qX2HlzGXL7f[$CLLXNdSPV1p7]['content']) ) ){ $_tr=4; while($_tr>0){ $fd = $uzVq0O0m8cfknZK->fetch($ycBHKZiTd, 0,true, false, '',  array('skipip' => true,'anytype'=>true,'addheaders'=>$eazDjcP8pCuUgHPtL9)); $_tr--; if(strstr($fd['code'],'200'))$_tr=0; else sleep(3); } $this->HB54qX2HlzGXL7f[$CLLXNdSPV1p7] = $fd; $this->ZlqsdCbxhAfcJnSH(); } $GALMVy6qkaNvoOJMth = $this->HB54qX2HlzGXL7f[$CLLXNdSPV1p7]; if($NN4nbd6RBjDF5h && $GALMVy6qkaNvoOJMth && function_exists('json_decode'))  { $GALMVy6qkaNvoOJMth ['decont'] = json_decode($GALMVy6qkaNvoOJMth['content'], 1); } return $GALMVy6qkaNvoOJMth; } function MivJbMuIcci1Jpxv8Oy($xHxI6GwsrQMw1Ywwl) {  return $xflSCNMlduAh; } function uvdKj0NOqz8G8($urls_completed, &$VYbVeh_TgDnVTwQ) { global $j1_CU2NU1Ji, $auNJeHKCnfmy, $GxzK2HjqSf, $sm_proc_list, $YlBc5hwvQ, $d39e5eQQ1Bo3o5dqRdE, $i1EZuSKyRs; $ZZYzh9dy7 = $this->kBDOg4Jryk_['xs_chlog']; $T7WpiaE0PIjw = Vc1awjnOB(ckzK29wvy,  'sitemap_xml_tpl.xml'); $NrHkEpG4n8yh2fXdk = file_get_contents(ckzK29wvy.$T7WpiaE0PIjw); preg_match('#^(.*)%URLS_LIST_FROM%(.*)%URLS_LIST_TO%(.*)$#is', $NrHkEpG4n8yh2fXdk, $j1_CU2NU1Ji); $j1_CU2NU1Ji[1] = str_replace('www.xml-sitemaps.com', 'www.xml-sitemaps.com ('. OKiNxvP10wn.')', $j1_CU2NU1Ji[1]); $j1_CU2NU1Ji[1] = str_replace('%GEN_URL%', $this->kBDOg4Jryk_['gendom'], $j1_CU2NU1Ji[1]); $sxrW6EAR0_DrC = preg_replace('#[^\\/]+?\.xml$#', '', $this->kBDOg4Jryk_['xs_smurl']); $j1_CU2NU1Ji[1] = str_replace('%SM_BASE%', $sxrW6EAR0_DrC, $j1_CU2NU1Ji[1]); if($this->kBDOg4Jryk_['xs_disable_xsl']) $j1_CU2NU1Ji[1] = preg_replace('#<\?xml-stylesheet.*\?>#', '', $j1_CU2NU1Ji[1]);
																									if($this->kBDOg4Jryk_['xs_nobrand']){
																									$j1_CU2NU1Ji[1] = str_replace('sitemap.xsl','sitemap_nb.xsl',$j1_CU2NU1Ji[1]);
																									$j1_CU2NU1Ji[1] = preg_replace('#<!-- created.*?>#','',$j1_CU2NU1Ji[1]);
																									}
																									$HGZNVDRuuklc4s5NpZr = implode('', file(ckzK29wvy.'sitemap_ror_tpl.xml'));
																									preg_match('#^(.*)%URLS_LIST_FROM%(.*)%URLS_LIST_TO%(.*)$#is', $HGZNVDRuuklc4s5NpZr, $auNJeHKCnfmy);
																									$VrD8zbgQD_9u = implode('', file(ckzK29wvy.'sitemap_rss_tpl.xml'));
																									preg_match('#^(.*)%URLS_LIST_FROM%(.*)%URLS_LIST_TO%(.*)$#is', $VrD8zbgQD_9u, $XoPAFRlOJlVSuGKT);
																									$cSMBbffqTWDdt7uV = implode('', file(ckzK29wvy.'sitemap_base_tpl.xml'));
																									preg_match('#^(.*)%URLS_LIST_FROM%(.*)%URLS_LIST_TO%(.*)$#is', $cSMBbffqTWDdt7uV, $GxzK2HjqSf);
																									$this->sk8SWiCQSamGIiASEh = $this->kBDOg4Jryk_['xs_sm_size']?$this->kBDOg4Jryk_['xs_sm_size']:50000;
																									$this->sm_filesplit = $this->kBDOg4Jryk_['xs_sm_filesize']?$this->kBDOg4Jryk_['xs_sm_filesize']:10;
																									$this->sm_filesplit = max(intval($this->sm_filesplit*1024*1024),2000)-1000;
																									if(isset($this->kBDOg4Jryk_['xs_webinfo']) && !$this->kBDOg4Jryk_['xs_webinfo'])
																									unset($this->ZOrSF8QF3Wov6[0]);
																									if(!$this->kBDOg4Jryk_['xs_imginfo'])
																									unset($this->ZOrSF8QF3Wov6[1]);
																									if(!$this->kBDOg4Jryk_['xs_videoinfo'])
																									unset($this->ZOrSF8QF3Wov6[2]);
																									if(!$this->kBDOg4Jryk_['xs_newsinfo'])
																									unset($this->ZOrSF8QF3Wov6[3]);
																									if(!$this->kBDOg4Jryk_['xs_makemob'])
																									unset($this->ZOrSF8QF3Wov6[4]);
																									if(!$this->kBDOg4Jryk_['xs_rssinfo'])
																									unset($this->ZOrSF8QF3Wov6[5]);
																									$_alang = preg_split('#[\r\n]+#', $this->kBDOg4Jryk_['xs_alt_lang']);
																									$_acur = '';
																									$_at = '';
																									$this->GsYwj3UyZfdDhOpO = array('s' => array(), 'r' => array());
																									foreach($_alang as $v){
																									$me = explode(' ', $v);
																									if($me[1]) {
																									$this->GsYwj3UyZfdDhOpO[$_at][$_acur][] = array('t' => 'hreflang', 'l' => $me[0], 'u' => $me[1]);
																									}else {
																									$_at = strstr($v,'*') ? 'r' : 's';
																									$_acur = $v;
																									$this->GsYwj3UyZfdDhOpO[$_at][$_acur] = array();
																									}
																									}
																									$ctime = date('Y-m-d H:i:s');
																									$gdwt37PYGOYn1y9J = 0;
																									global $TuwYIhFFzn;
																									$tt = array('<','>');
																									foreach ($tt as $BS4zo_EGofYHl )
																									$TuwYIhFFzn[$BS4zo_EGofYHl] = '&#'.ord($BS4zo_EGofYHl).';';
																									for($i=0;$i<31;$i++)
																									$TuwYIhFFzn[chr($i)] = '';
																									
																									$TuwYIhFFzn[chr(0)] = $TuwYIhFFzn[chr(10)] = $TuwYIhFFzn[chr(13)] = '';
																									$TuwYIhFFzn[' '] = '%20';
																									$pf = 0;
																									
																									$fmHIFBfKcRWqVO_lI = intval($YlBc5hwvQ['istart']);
																									$this->M8iRkKoaj0FD($YlBc5hwvQ);
																									if($this->kBDOg4Jryk_['xs_maketxt'])
																									{
																									$hZ3FCST3hwcyb8UwxyB = $this->Zvxg6gnCBnyOu['fopen'](HmHYvfc4eC.$this->EYbbJ9gS9Ai6v, $fmHIFBfKcRWqVO_lI?'a':'w');
																									if(!$hZ3FCST3hwcyb8UwxyB)$i1EZuSKyRs[] = HmHYvfc4eC.$this->EYbbJ9gS9Ai6v;
																									}
																									if($this->kBDOg4Jryk_['xs_makeror'])
																									{
																									$W2E02JwKqkNgBX = ocsKBW3RdX(b7ZqwOAzhW0_j, $fmHIFBfKcRWqVO_lI?'a':'w');
																									$rc = str_replace('%INIT_URL%', $this->kBDOg4Jryk_['xs_initurl'], $auNJeHKCnfmy[1]);
																									if($W2E02JwKqkNgBX)
																									vYlMAHORH1tn($W2E02JwKqkNgBX, $rc);
																									else
																									$i1EZuSKyRs[] = b7ZqwOAzhW0_j;
																									}
																									if($this->kBDOg4Jryk_['xs_rssinfo'])
																									{
																									$H8B2PNRws = $this->uurl_p . basename(mm80C64ju);
																									$uWe2JAIJh = mm80C64ju;
																									$NLfzhvmemKmH = ocsKBW3RdX($uWe2JAIJh, $fmHIFBfKcRWqVO_lI?'a':'w');
																									$rc = str_replace('%INIT_URL%', $this->kBDOg4Jryk_['xs_initurl'], $XoPAFRlOJlVSuGKT[1]);
																									$rc = str_replace('%FEED_TITLE%', $this->kBDOg4Jryk_['xs_rsstitle'], $rc);
																									$rc = str_replace('%BUILD_DATE%', gmdate('D, d M Y H:i:s +0000'), $rc);
																									$rc = str_replace('%SELF_URL%', $H8B2PNRws, $rc);
																									if($NLfzhvmemKmH)
																									vYlMAHORH1tn($NLfzhvmemKmH, $rc);
																									else
																									$i1EZuSKyRs[] = $uWe2JAIJh;
																									}
																									if($sm_proc_list)
																									foreach($sm_proc_list as $k=>$Ea3sYx0U3dm)
																									$sm_proc_list[$k]->PaDjvgp5wt($this->kBDOg4Jryk_, $this->Zvxg6gnCBnyOu, $this->Vz3USq3YvdW1up);
																									if($this->kBDOg4Jryk_['xs_write_delay'])
																									list($UifBScnFltI, $Mz_OyUCwsw1) = explode('|',$this->kBDOg4Jryk_['xs_write_delay']);
																									for($i=$xn=$fmHIFBfKcRWqVO_lI;$i<count($urls_completed);$i++,$xn++)
																									{   
																									
																									
																									
																									if($i%100 == 0) {
																									Bp_tWIew8s9vktlb();
																									global $zMk0n1holCJ_UTn0T1g;$zMk0n1holCJ_UTn0T1g->wUhMS5qd5DrsGY1rZV(array('smcreate'=>array('xml',$i,count($urls_completed))));
																									mxl2il70e2a03dJaJ(" / $i / ".(time()-$_tm));
																									$_tm=time();
																									}
																									Usn7am560rU2Ba(array(
																									'cmd'=> 'info',
																									'id' => 'percprog',
																									'text'=> number_format($i*100/count($urls_completed),0).'%'
																									));
																									$N0is1jXgg = $this->Ms2d03zZIm2b9J9();
																									if($N0is1jXgg && ($i != $fmHIFBfKcRWqVO_lI))
																									{
																									i7Vxw209ALFW($d39e5eQQ1Bo3o5dqRdE,efGgmPC6U5s2(array('istart'=>$i,'rinfo'=>$this->leBbpgI7_WT__)));
																									}
																									if($this->kBDOg4Jryk_['xs_memsave'])
																									{
																									$cu = mzZ7VZGN2KfH2u($urls_completed[$i]);
																									}else
																									$cu = $urls_completed[$i];
																									if(!is_array($cu)) $cu = @unserialize($cu);
																									$l = $this->UhDjvS6z0PSqB7vVKI($cu['link']);
																									$cu['link'] = $l;
																									$t = $this->LBpy8EcwhBK21y1Z9IF($cu['t'], true, true);
																									$d = $this->LBpy8EcwhBK21y1Z9IF($cu['d'] ? $cu['d'] : $cu['t'], true, true);
																									$t2 = $this->LBpy8EcwhBK21y1Z9IF($cu['t'], false);
																									$d2 = $this->LBpy8EcwhBK21y1Z9IF($cu['d']?$cu['d']:$cu['t'], false);
																									$fE7nzGokpvyzHi3PrXA = '';
																									if($cu['clm'] && ($uH0dxd0R6Xo = preg_replace('#\s+[a-z]+$#is', '', $cu['clm'])) && strtotime($uH0dxd0R6Xo))
																									$fE7nzGokpvyzHi3PrXA = $uH0dxd0R6Xo;
																									else
																									switch($this->kBDOg4Jryk_['xs_lastmod']){
																									case 1:$fE7nzGokpvyzHi3PrXA = $cu['lm']?$cu['lm']:$ctime;break;
																									case 2:$fE7nzGokpvyzHi3PrXA = $ctime;break;
																									case 3:$fE7nzGokpvyzHi3PrXA = $this->kBDOg4Jryk_['xs_lastmodtime'];break;
																									}
																									$dbLqx8QZJFMR8v = $awbaFMkm45eSx = false;
																									if($cu['p'])
																									$p = $cu['p'];
																									else
																									{
																									$p = floatval($this->kBDOg4Jryk_['xs_priority']);
																									if($this->kBDOg4Jryk_['xs_autopriority'])
																									{
																									$p = $p*pow($this->kBDOg4Jryk_['xs_descpriority']?$this->kBDOg4Jryk_['xs_descpriority']:0.8,intval($cu['o']));
																									if($this->p3laxHJbqle7Auv)
																									{
																									$dbLqx8QZJFMR8v = true;
																									$awbaFMkm45eSx = ($this->p3laxHJbqle7Auv&&!isset($this->p3laxHJbqle7Auv[$cu['link']]))||$this->W8BbAa0CqXwD[$cu['link']];
																									if($awbaFMkm45eSx)
																									$p=0.95;
																									}
																									$p = max(0.0001,min($p,1.0));
																									$p = @number_format($p, 4);
																									}
																									}
																									if($fE7nzGokpvyzHi3PrXA){
																									$fE7nzGokpvyzHi3PrXA = strtotime($fE7nzGokpvyzHi3PrXA);
																									$fE7nzGokpvyzHi3PrXA = gmdate('Y-m-d\TH:i:s+00:00',$fE7nzGokpvyzHi3PrXA);
																									}
																									$f = $cu['f']?$cu['f']:$this->kBDOg4Jryk_['xs_freq'];
																									$_al = array();
																									if($this->GsYwj3UyZfdDhOpO['s'][$l])
																									$_al = $this->GsYwj3UyZfdDhOpO['s'][$l];
																									else
																									{
																									foreach($this->GsYwj3UyZfdDhOpO['r'] as $_aurl => $_ll)
																									if(preg_match('#'.$_aurl.'#i', $l, $lm)) {
																									$_al = $_ll;
																									foreach($_al as $_k=>$_v)
																									$_al[$_k]['u'] = $this->UhDjvS6z0PSqB7vVKI(preg_replace('#'.$_aurl.'#', $_v['u'], $l));
																									break;
																									}
																									}
																									if(!$_al)
																									$_al = $cu['hl'];
																									if($_al)
																									foreach($_al as $_k=>$_v)
																									$_al[$_k]['u'] = $this->UhDjvS6z0PSqB7vVKI($_v['u']);
																									$CB5uewdKc1 = array(
																									'URL'=>$l,
																									'TITLE'=>$t,
																									'DESC'=>($d),
																									'PERIOD'=>$f,
																									'LASTMOD'=>$fE7nzGokpvyzHi3PrXA,
																									'ORDER'=>$cu['o'],
																									'PRIORITY'=>$p,
																									'ALTLANG' => $_al
																									);
																									if($this->kBDOg4Jryk_['xs_makemob'])
																									{
																									if(!$this->kBDOg4Jryk_['xs_mobileincmask'] ||
																									preg_match('#'.str_replace(' ', '|', preg_quote($this->kBDOg4Jryk_['xs_mobileincmask'],'#')).'#',$CB5uewdKc1['URL']))
																									$this->axCnnoKsGyms8mMO6Jx(array_merge($CB5uewdKc1, array('ismob'=>true)), $j1_CU2NU1Ji[2], 4);
																									}
																									
																									
																									$this->axCnnoKsGyms8mMO6Jx($CB5uewdKc1, $j1_CU2NU1Ji[2], 0);
																									
																									
																									if($this->kBDOg4Jryk_['xs_maketxt'] && $hZ3FCST3hwcyb8UwxyB)
																									$this->Zvxg6gnCBnyOu['fwrite']($hZ3FCST3hwcyb8UwxyB, $cu['link']."\n");
																									if($sm_proc_list)
																									foreach($sm_proc_list as $Ea3sYx0U3dm)
																									$Ea3sYx0U3dm->gUsRuAhBOeLztaaH($CB5uewdKc1);
																									if($this->kBDOg4Jryk_['xs_makeror'] && $W2E02JwKqkNgBX)
																									if(!$this->kBDOg4Jryk_['xs_ror_max'] ||
																									($i < $this->kBDOg4Jryk_['xs_ror_max']))
																									{
																									$tt = $t2;
																									$dd = $d2;
																									if($this->kBDOg4Jryk_['xs_ror_unique']){
																									while($ssL8XGwNHAFUjdTIY=$ai[md5('t'.$tt)]++){
																									$tt=$CB5uewdKc1['TITLE'].' '.$ssL8XGwNHAFUjdTIY;
																									}
																									while($ssL8XGwNHAFUjdTIY=$ai[md5('d'.$dd)]++){
																									$dd=$CB5uewdKc1['DESC'].' '.$ssL8XGwNHAFUjdTIY;
																									}
																									}
																									$CB5uewdKc1['TITLE'] = $tt;
																									$CB5uewdKc1['DESC'] = $dd;
																									vYlMAHORH1tn($W2E02JwKqkNgBX, $this->Vz3USq3YvdW1up->CUXIgi8LhEo4RD_S($auNJeHKCnfmy[2],$CB5uewdKc1));
																									}
																									if($ZZYzh9dy7) {
																									if(!isset($this->p3laxHJbqle7Auv[$cu['link']]) && 
																									count($this->v2pFFNkMJzjwepiV_)<$this->ZoS3vPCq6rkLxmjkC)
																									$this->v2pFFNkMJzjwepiV_[$cu['link']]++;
																									}
																									unset($this->p3laxHJbqle7Auv[$cu['link']]);
																									}
																									$this->d_gL6dJI5x52fcO();
																									if($this->kBDOg4Jryk_['xs_maketxt'])
																									{
																									$this->Zvxg6gnCBnyOu['fclose']($hZ3FCST3hwcyb8UwxyB);
																									@chmod(HmHYvfc4eC.$this->EYbbJ9gS9Ai6v, 0666);
																									}
																									if($this->kBDOg4Jryk_['xs_makeror'])
																									{
																									if($W2E02JwKqkNgBX)
																									vYlMAHORH1tn($W2E02JwKqkNgBX, $auNJeHKCnfmy[3]);
																									fclose($W2E02JwKqkNgBX);
																									}
																									if($this->kBDOg4Jryk_['xs_rssinfo'])
																									{
																									if($NLfzhvmemKmH)
																									vYlMAHORH1tn($NLfzhvmemKmH, $XoPAFRlOJlVSuGKT[3]);
																									fclose($NLfzhvmemKmH);
																									$this->IrhB91yYUuZ($this->kBDOg4Jryk_['xs_rssfilename']);
																									}
																									if($sm_proc_list)
																									foreach($sm_proc_list as $Ea3sYx0U3dm)
																									$Ea3sYx0U3dm->LHEXqzUpc();
																									i7Vxw209ALFW($d39e5eQQ1Bo3o5dqRdE,efGgmPC6U5s2(array('done'=>true)));
																									Usn7am560rU2Ba(array('cmd'=> 'info','id' => 'percprog',''));
																									}
																									function DdB3O9kBBFGGk($Mc15S6YdHn3YLwsUnQ)
																									{
																									for($i=0;file_exists($sf=UaddkUfuGH5RFHOb6.($_so=IVPt7SCt22lW7QDIE($i,$Mc15S6YdHn3YLwsUnQ).$this->EYbbJ9gS9Ai6v));$i++){
																									tVk6gUrKf($sf);
																									tVk6gUrKf($this->furl_p.$_so);	    	
																									}
																									$gp = '.gz';
																									if($this->kBDOg4Jryk_['xs_compress']==2)
																									for($i=0;file_exists($sf=UaddkUfuGH5RFHOb6.IVPt7SCt22lW7QDIE($i,$Mc15S6YdHn3YLwsUnQ).$gp);$i++){
																									tVk6gUrKf($sf);
																									}
																									}
																									function YDQ2KUm6poZc_QPer($D0Rxn7Sfg00v3, $eKw4tvUNFTkaXcs0if)
																									{
																									global $i1EZuSKyRs;
																									if(!@copy($D0Rxn7Sfg00v3,$eKw4tvUNFTkaXcs0if))
																									{
																									if($this->kBDOg4Jryk_['xs_filewmove'] && file_exists($eKw4tvUNFTkaXcs0if) ){
																									tVk6gUrKf($eKw4tvUNFTkaXcs0if);
																									}
																									if($cn = @ocsKBW3RdX($eKw4tvUNFTkaXcs0if, 'w')){
																									@vYlMAHORH1tn($cn, file_get_contents($D0Rxn7Sfg00v3));
																									@fclose($cn);
																									}else
																									if(file_exists($D0Rxn7Sfg00v3))
																									{
																									$i1EZuSKyRs[] = $eKw4tvUNFTkaXcs0if;
																									}
																									}
																									
																									@chmod($D0Rxn7Sfg00v3, 0666);
																									}
																									function IrhB91yYUuZ($Mc15S6YdHn3YLwsUnQ)
																									{
																									$gp = ($this->kBDOg4Jryk_['xs_compress']==2) ? '.gz' : '';
																									for($i=0;file_exists(UaddkUfuGH5RFHOb6.($sf=IVPt7SCt22lW7QDIE($i,$Mc15S6YdHn3YLwsUnQ).$this->EYbbJ9gS9Ai6v));$i++){
																									$this->YDQ2KUm6poZc_QPer(UaddkUfuGH5RFHOb6.$sf,$this->furl_p.$sf);
																									if($gp) {
																									$cn = file_get_contents(UaddkUfuGH5RFHOb6.$sf);
																									if(strstr($cn, '<sitemapindex'))
																									$cn = str_replace('.xml</loc>', '.xml.gz</loc>', $cn);
																									i7Vxw209ALFW(UaddkUfuGH5RFHOb6.$sf, $cn, '', true);
																									$this->YDQ2KUm6poZc_QPer(UaddkUfuGH5RFHOb6.$sf.$gp,$this->furl_p.$sf.$gp);
																									}
																									}
																									}
																									function T_59TbPnn4UfB($Mc15S6YdHn3YLwsUnQ, $du3TXYUjio = -1, $xNZXMrmrfziZ0_ = '', $qemCZKQUh6jqtnKHmOY = 0)
																									{
																									$cn = '';
																									$_fold = (strstr($Mc15S6YdHn3YLwsUnQ,'/')||strstr($Mc15S6YdHn3YLwsUnQ,'\\')) ? '' : UaddkUfuGH5RFHOb6 ;
																									$_fapp = ($qemCZKQUh6jqtnKHmOY ?  '' : $this->EYbbJ9gS9Ai6v);
																									for($i=0;file_exists($sf=$_fold.IVPt7SCt22lW7QDIE($i,$Mc15S6YdHn3YLwsUnQ).$_fapp);$i++)
																									{
																									
																									if(@filesize($sf)<100000000)// 100MB max
																									$cn .= $_fapp?implode('',gzfile($sf)):ZTwLGIOL6_a05($sf);
																									if($i>200)break;
																									}
																									$IJQR6CGCl_V2rfLzHr = array(
																									array('loc', 'news:publication_date', 'priority'),
																									array('link', 'pubDate', ''),
																									);
																									$mt = $IJQR6CGCl_V2rfLzHr[$qemCZKQUh6jqtnKHmOY];
																									preg_match_all('#<'.$mt[0].'>(.*?)</'.$mt[0].'>'.
																									(($du3TXYUjio>=0) ? '.*?<'.$mt[1].'>(.*?)</'.$mt[1].'>' : '').
																									(($xNZXMrmrfziZ0_ && $mt[2])? '.*?<'.$mt[2].'>(.*?)</'.$mt[2].'>' : '').
																									'#is',$cn,$um);
																									$al = array();
																									foreach($um[1] as $i=>$l)
																									{             
																									if($xNZXMrmrfziZ0_){
																									if(!strstr($l, $xNZXMrmrfziZ0_))
																									continue;
																									$l = substr($l, strlen($xNZXMrmrfziZ0_));
																									}
																									if(!$l)continue;
																									if($du3TXYUjio<=0) {
																									if($um[2][$i])
																									$al[$l] = $um[2][$i];
																									else
																									$al[$l]++;
																									}
																									else
																									if(time()-strtotime($um[2][$i])<=$du3TXYUjio*24*3600)
																									$al[$l] = $um[2][$i];
																									}
																									return $al;
																									}
																									function smjCgDydJh($Mc15S6YdHn3YLwsUnQ, $OBB_8tlYmVNucpd8eZ)
																									{
																									$cn = '';
																									$_fold = (strstr($Mc15S6YdHn3YLwsUnQ,'/')||strstr($Mc15S6YdHn3YLwsUnQ,'\\')) ? '' : UaddkUfuGH5RFHOb6 ;
																									$_fapp = ($qemCZKQUh6jqtnKHmOY ?  '' : $this->EYbbJ9gS9Ai6v);
																									for($i=0;file_exists($sf=$_fold.IVPt7SCt22lW7QDIE($i,$Mc15S6YdHn3YLwsUnQ).$_fapp);$i++)
																									{
																									
																									if(@filesize($sf)<100000000)// 100MB max
																									$cn .= $_fapp?implode('',gzfile($sf)):ZTwLGIOL6_a05($sf);
																									if($i>200)break;
																									}
																									preg_match_all('#<url[^>]*>(.*?)</url>#is',$cn,$um);
																									$al = array();
																									foreach($um[1] as $i=>$l)
																									{             
																									if(preg_match('#<loc[^>]*>(.*?)</loc>#is',$l,$AuRkGMt3HN4))
																									{
																									$IPvmp6PM2myp2AG_XM4 = array();
																									preg_match_all('#<'.$OBB_8tlYmVNucpd8eZ.'[^>]*>(.*?)</'.$OBB_8tlYmVNucpd8eZ.'>#is',$l,$ZwrGiQVUFkwtR3C0);
																									foreach($ZwrGiQVUFkwtR3C0[1] as $i=>$l2)
																									{             
																									$IPvmp6PM2myp2AG_XM4[$l2]++;
																									}
																									if($IPvmp6PM2myp2AG_XM4){
																									$al[$AuRkGMt3HN4[1]] = $IPvmp6PM2myp2AG_XM4;
																									}
																									}
																									}
																									return $al;
																									}
																									}
																									global $sxJ5xatG1;
																									$sxJ5xatG1 = new XMLCreator();
																									}
																									



































































































